%% Thinking Forth
%% Copyright (C) 2004 Leo Brodie
%% Initial transcription by Ed Beroset
%% 
%% test harness
%% pdflatex harness

\newif\ifpdf
\ifx\pdfoutput\undefined
  \pdffalse % we are not running PDFLaTeX
\else
  \pdfoutput=1 % we are running PDFLaTeX
  \pdftrue
\fi

\ifpdf
\documentclass[10pt,american,pdftex]{book}
\else
\documentclass[10pt,american,dvips]{book}
\fi

\usepackage[T1]{fontenc}
\usepackage[latin1]{inputenc}
\usepackage{graphics}
\usepackage{babel}
\usepackage{geometry}
\usepackage{pst-all}
\usepackage{fancyvrb}
\usepackage[2004]{tf}

%% Cover creation howto:
%% back | spine | front + border
%% spine = pages*0.0041in
%% border: 0.25in

\newdimen\pwidth
\newdimen\pheight
\newdimen\oldpwidth
\newdimen\twidth
\newdimen\evenmargin
\newdimen\oddmargin
\oldpwidth\paperwidth
\twidth\textwidth
\oddmargin1in
\advance\oddmargin\evensidemargin
\evenmargin-\oddsidemargin
\newdimen\spine
\spine162\pthick
\pwidth2\paperwidth
\advance\pwidth\spine
\advance\pwidth2\cborder
\pheight\paperheight
\advance\pheight2\cborder

\geometry{verbose,paperwidth=\pwidth,paperheight=\pheight,tmargin=0in,%
bmargin=0in,lmargin=0in,rmargin=0in,headheight=0pt,headsep=0pt,%
footskip=0pt}

% for pdflatex
\ifpdf
\DeclareGraphicsExtensions{.pdf,.png}
\else
\DeclareGraphicsExtensions{.eps}
\fi

\makeatletter
\parindent0pt
\begin{document}
\pagestyle{empty}\samepage
\centerline{\psframebox*[fillcolor=black,framesep=\cborder]{\noindent
\white
\begin{minipage}{\oldpwidth}
\hbox{\hspace{\oddmargin}
\begin{minipage}{\twidth}
\parindent2.5em
\input{backpage}
\end{minipage}}
\vspace{20pt}
\vspace{1.5in}
\leavevmode\hspace{\oddmargin}\psframe[fillcolor=white,fillstyle=solid](0,0)(5.08,3.81)
\end{minipage}
\vline
\begin{minipage}{\spine}
\rotateleft{\advance\pheight-2\cborder\vbox to \spine{\vss\hbox to \pheight{
    \fontfamily{phv}\selectfont
    \leavevmode\hspace{0.5in}
    \Huge\bfseries\person{Leo Brodie}\hss
    \HUGE\slshape THINKING FORTH
    \hspace{0.5in}
}\vss}}
\end{minipage}
\vline
\begin{minipage}{\oldpwidth}
\HUGE
    \fontfamily{phv}\selectfont
  \vbox{\hrule \@height 3pt
    \vspace*{0.2ex}\hbox to \textwidth{\hspace{\evenmargin}\bfseries Leo Brodie\hss}\vspace*{0.2ex}
    \hrule \@height 3pt}
  \vspace*{100pt}
  \hbox{\hspace{\evenmargin}
  \begin{minipage}{\twidth}
  \vbox{\hsize\textwidth
    \parindent\z@\hyphenpenalty 10000\raggedright
  {\THUGE\bfseries\slshape THINKING FORTH\\[1em]}
   \Huge A Language \\ and Philosophy \\ for Solving Problems}
   \vspace*{100pt}
   \Large\noindent Includes interviews with \Forth{}'s inventor, \person{Charles H. Moore},
and other \Forth{} thinkers
  \end{minipage}}
\end{minipage}}}


\end{document}
